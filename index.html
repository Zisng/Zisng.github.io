<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-spark-HA" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/11/spark-HA/" class="article-date">
  <time class="dt-published" datetime="2023-06-11T02:35:04.656Z" itemprop="datePublished">2023-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/11/spark-HA/">Spark-HA</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="spark-stand-alone-HA环境搭建"><a href="#spark-stand-alone-HA环境搭建" class="headerlink" title="spark stand alone HA环境搭建"></a>spark stand alone HA环境搭建</h1><p>Spark Standalone HA用于提高 Spark 集群的可用性和容错能力。此部署方式使用多个 Spark master节点来实现故障切换和负载均衡，从而确保即使某个节点发生故障或者停机，Spark 集群仍然可以继续工作。</p>
        
          <p class="article-more-link">
            <a href="/2023/06/11/spark-HA/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/11/spark-HA/" data-id="cliquf9pj0001vowj93oqfi1v" data-title="Spark-HA" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-spark-StandAlone" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/11/spark-StandAlone/" class="article-date">
  <time class="dt-published" datetime="2023-06-11T02:00:53.170Z" itemprop="datePublished">2023-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/11/spark-StandAlone/">Spark-StandAlone</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="spark-standalone全流程配置和应用"><a href="#spark-standalone全流程配置和应用" class="headerlink" title="spark-standalone全流程配置和应用"></a>spark-standalone全流程配置和应用</h1><p>部署Spark Stand Alone环境时，需要用到三台linux虚拟机构成，在此以node1、node2、node3为例<br>node1运行: Spark的Master进程  和 1个Worker进程<br>node2运行: spark的1个worker进程<br>node3运行: spark的1个worker进程</p>
        
          <p class="article-more-link">
            <a href="/2023/06/11/spark-StandAlone/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/11/spark-StandAlone/" data-id="cliqsftwh0000w4wj8wopaiss" data-title="Spark-StandAlone" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-spark-Local" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/11/spark-Local/" class="article-date">
  <time class="dt-published" datetime="2023-06-11T01:49:48.588Z" itemprop="datePublished">2023-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/11/spark-Local/">Spark-Local</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h1 id="Spark本地全流程配置及操作"><a href="#Spark本地全流程配置及操作" class="headerlink" title="Spark本地全流程配置及操作"></a>Spark本地全流程配置及操作</h1><h2 id="基础环境"><a href="#基础环境" class="headerlink" title="基础环境"></a>基础环境</h2><ul>
<li><p>环境变量</p>
<ul>
<li>配置Spark有如下5个环境变量需要设置</li>
</ul>
<p>  #JAVA_HOME</p>
<p>  export JAVA_HOME&#x3D;&#x2F;export&#x2F;server&#x2F;jdk</p>
<p>  export PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin</p>
<p>  export CLASSPATH&#x3D;.:$JAVA_HOME&#x2F;lib&#x2F;dt.jar:$JAVA_HOME&#x2F;lib&#x2F;tools.jar</p>
<p>  #HADOOP_HOME</p>
<p>  export HADOOP_HOME&#x3D;&#x2F;export&#x2F;server&#x2F;hadoop</p>
<p>  export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;bin:$HADOOP_HOME&#x2F;sbin</p>
<p>  #HADOOP_CONF_DIR</p>
<p>  export HADOOP_CONF_DIR&#x3D;$HADOOP_HOME&#x2F;etc&#x2F;hadoop</p>
<p>  #PYSPARK_PYTHON</p>
<p>  export PYSPARK_PYTHON&#x3D;&#x2F;export&#x2F;server&#x2F;anaconda3&#x2F;envs&#x2F;pyspark&#x2F;bin&#x2F;python</p>
<p>  #SPARK_HOME</p>
<p>  export SPARK_HOME&#x3D;&#x2F;export&#x2F;server&#x2F;spark</p>
  <img src="/2023/06/11/spark-Local/clip_image002.jpg" class="" title="img">
</li>
<li><p>安装anaconda</p>
<ul>
<li>把资源包Anaconda3-2021.05-Linux-x86_64.sh文件放到文件夹下</li>
</ul>
  <img src="/2023/06/11/spark-Local/clip_image004.jpg" class="" title="img">

<ul>
<li>运行Anaconda3-2021.05-Linux-x86_64.sh</li>
</ul>
<p>  sh .&#x2F;Anaconda3-2021.05-Linux-x86_64.sh</p>
  <img src="/2023/06/11/spark-Local/clip_image006.jpg" class="" title="img">

<ul>
<li>输入安装路径</li>
</ul>
<p>  &#x2F;export&#x2F;server&#x2F;anaconda3</p>
  <img src="/2023/06/11/spark-Local/clip_image008.jpg" class="" title="img">

  <img src="/2023/06/11/spark-Local/clip_image010.jpg" class="" title="img">

<ul>
<li>安装完成之后重启虚拟机</li>
</ul>
<p>  看到base（默认的虚拟环境）开头就安装好了</p>
  <img src="/2023/06/11/spark-Local/clip_image012.jpg" class="" title="img">
</li>
<li><p>创建虚拟环境</p>
<ul>
<li>创建虚拟环境 pyspark, 基于Python 3.8</li>
</ul>
<p>  conda activate base</p>
<p>  conda create -n pyspark python&#x3D;3.8</p>
  <img src="/2023/06/11/spark-Local/clip_image014.jpg" class="" title="img">

<ul>
<li>切换到虚拟环境内</li>
</ul>
<p>  conda activate pyspark</p>
  <img src="/2023/06/11/spark-Local/clip_image016.jpg" class="" title="img">

<ul>
<li>在虚拟环境内安装包</li>
</ul>
<p>  pip install pyhive pyspark jieba -i <a target="_blank" rel="noopener" href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></p>
  <img src="/2023/06/11/spark-Local/clip_image018.jpg" class="" title="img"></li>
</ul>
<h2 id="安装spark"><a href="#安装spark" class="headerlink" title="安装spark"></a>安装spark</h2><ul>
<li>解压spark包</li>
</ul>
<p>tar zxvf spark-3.2.0-bin-hadoop3.2.tgz</p>
<img src="/2023/06/11/spark-Local/clip_image020.jpg" class="" title="img">

<ul>
<li>设置软链接</li>
</ul>
<p>ln -s spark-3.2.0-bin-hadoop3.2&#x2F; spark</p>
<img src="/2023/06/11/spark-Local/clip_image022.jpg" class="" title="img">

<ul>
<li>测试</li>
</ul>
<p>.&#x2F;pyspark</p>
<img src="/2023/06/11/spark-Local/clip_image024.jpg" class="" title="img">

<ul>
<li>在浏览器内打开网页</li>
</ul>
<img src="/2023/06/11/spark-Local/clip_image026.jpg" class="" title="img">
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/11/spark-Local/" data-id="cliquf9ph0000vowj432kbyz0" data-title="Spark-Local" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-docker" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/10/docker/" class="article-date">
  <time class="dt-published" datetime="2023-06-10T15:15:10.231Z" itemprop="datePublished">2023-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/10/docker/">Docker</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h1 id="docker全流程配置及应用"><a href="#docker全流程配置及应用" class="headerlink" title="docker全流程配置及应用"></a>docker全流程配置及应用</h1><h2 id="一、docker初始环境"><a href="#一、docker初始环境" class="headerlink" title="一、docker初始环境"></a>一、docker初始环境</h2><ul>
<li>虚拟机需要链接网络，安装yum工具<br>yum install -y yum-utils device-mapper-persistent-data lvm2 –skip-broken<img src="/2023/06/10/docker/clip_image002.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image004.jpg" class="" title="img"></li>
</ul>
<h2 id="二、配置网卡转发"><a href="#二、配置网卡转发" class="headerlink" title="二、配置网卡转发"></a>二、配置网卡转发</h2><ul>
<li>写入<br>cat &lt;<EOF > &#x2F;etc&#x2F;sysctl.d&#x2F;docker.conf<br>net.bridge.bridge-nf-call-ip6tables &#x3D; 1<br>net.bridge.bridge-nf-call-iptables &#x3D; 1<br>net.ipv4.conf.default.rp_filter &#x3D; 0<br>net.ipv4.conf.all.rp_filter &#x3D; 0<br>net.ipv4.ip_forward&#x3D;1<br>EOF<img src="/2023/06/10/docker/clip_image006.jpg" class="" title="img"></li>
<li>重新加载内核参数<br>modprobe br_netfilter<br>sysctl -p &#x2F;etc&#x2F;sysctl.d&#x2F;docker.conf<img src="/2023/06/10/docker/clip_image008.jpg" class="" title="img"></li>
</ul>
<h2 id="三、利用域名进行docker安装"><a href="#三、利用域名进行docker安装" class="headerlink" title="三、利用域名进行docker安装"></a>三、利用域名进行docker安装</h2><ul>
<li>用阿里云提供的docker专属repo仓库<br>curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;docker-ce.repo <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo">http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</a><img src="/2023/06/10/docker/clip_image010.jpg" class="" title="img"></li>
<li>更新yum缓存<br>yum clean all &amp;&amp; yum makecache<img src="/2023/06/10/docker/clip_image012.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image014.jpg" class="" title="img"></li>
<li>查看源中可用版本<br>yum list docker-ce –showduplicates | sort -r<img src="/2023/06/10/docker/clip_image016.jpg" class="" title="img"></li>
<li>yum安装<img src="/2023/06/10/docker/clip_image018.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image020.jpg" class="" title="img"></li>
<li>查看docker版本，验证是否成功<br>docker -v<img src="/2023/06/10/docker/clip_image022.jpg" class="" title="img"></li>
<li>配置镜像加速器<br>mkdir -p &#x2F;etc&#x2F;docker<img src="/2023/06/10/docker/clip_image024.jpg" class="" title="img">
touch &#x2F;etc&#x2F;docker&#x2F;daemon.json<img src="/2023/06/10/docker/clip_image026.jpg" class="" title="img">
vim &#x2F;etc&#x2F;docker&#x2F;daemon.json<br>加入<br>{<br>“registry-mirrors” : [<br>“<a target="_blank" rel="noopener" href="https://8xpk5wnt.mirror.aliyuncs.com/">https://8xpk5wnt.mirror.aliyuncs.com</a>“<br>]<br>}<img src="/2023/06/10/docker/clip_image028.jpg" class="" title="img"></li>
<li>启动docker<ul>
<li><p>一定要关闭防火墙！！！<br>systemctl stop firewalld</p>
<img src="/2023/06/10/docker/clip_image030.jpg" class="" title="img">
</li>
<li><p>docker配置文件重新加载<br>  systemctl daemon-reload</p>
  <img src="/2023/06/10/docker/clip_image032.jpg" class="" title="img"></li>
<li><p>设置开启自启动<br>  systemctl enable docker</p>
  <img src="/2023/06/10/docker/clip_image034.jpg" class="" title="img"></li>
<li><p>启动docker服务<br>  systemctl start docker</p>
  <img src="/2023/06/10/docker/clip_image036.jpg" class="" title="img"></li>
</ul>
</li>
<li>查看docker信息<ul>
<li><p>查看 Docker 守护进程的详细信息<br>  docker info</p>
  <img src="/2023/06/10/docker/clip_image038.jpg" class="" title="img"></li>
<li><p>列出当前正在运行的容器<br>  docker ps</p>
  </li>
<li><p>列出当前系统中所有可用的 Docker 镜像<br>  docker images</p>
  <img src="/2023/06/10/docker/clip_image042.jpg" class="" title="img"></li>
<li><p>查找并返回指定的命令在系统中的安装路径<br>  which docker</p>
  <img src="/2023/06/10/docker/clip_image043.png" class="" title="img"></li>
<li><p>列出当前所有进程，并在输出中过滤包含关键字 docker的进程信息<br>  ps aux |grep docker</p>
  <img src="/2023/06/10/docker/clip_image045.jpg" class="" title="img">
</li>
<li><p>查找、检查 containerd 服务的运行状态<br>  ps aux|grep containerd<br>  systemctl status containerd</p>
  <img src="/2023/06/10/docker/clip_image047.jpg" class="" title="img"></li>
</ul>
</li>
</ul>
<h2 id="四、用docker运行nginx"><a href="#四、用docker运行nginx" class="headerlink" title="四、用docker运行nginx"></a>四、用docker运行nginx</h2><ul>
<li><p>搜索一下远程仓库中的镜像文件是否存在<br>docker search nginx</p>
<img src="/2023/06/10/docker/clip_image049.jpg" class="" title="img"></li>
<li><p>拉取，下载镜像<br>docker pull nginx</p>
<img src="/2023/06/10/docker/clip_image051.jpg" class="" title="img"></li>
<li><p>查看镜像<br>docker images</p>
<img src="/2023/06/10/docker/clip_image053.jpg" class="" title="img">
</li>
<li><p>运行镜像<br>运行出具体内容，在容器中就跑着一个nginx服务<br>docker run -d -p 80:80 nginx</p>
<img src="/2023/06/10/docker/clip_image055.jpg" class="" title="img"></li>
<li><p>查看容器是否在运行<br>docker ps</p>
<img src="/2023/06/10/docker/clip_image057.jpg" class="" title="img"></li>
<li><p>访问网站<br>192.168.88.161:80</p>
<img src="/2023/06/10/docker/clip_image059.jpg" class="" title="img"></li>
<li><p>停止容器<br>docker stop 17e4e6b1f7ab</p>
<img src="/2023/06/10/docker/clip_image061.jpg" class="" title="img"></li>
<li><p>恢复容器<br>docker start 17e4e6b1f7ab</p>
<img src="/2023/06/10/docker/clip_image063.jpg" class="" title="img"></li>
</ul>
<h2 id="五、镜像"><a href="#五、镜像" class="headerlink" title="五、镜像"></a>五、镜像</h2><ul>
<li>获取镜像<ul>
<li><p>查看本地的镜像文件<br>  docker images<br>  docker image ls</p>
  <img src="/2023/06/10/docker/clip_image065.jpg" class="" title="img"></li>
<li><p>下载docker镜像<br>  docker pull centos</p>
  <img src="/2023/06/10/docker/clip_image067.jpg" class="" title="img">
  <img src="/2023/06/10/docker/clip_image069.jpg" class="" title="img">
</li>
<li><p>查看docker镜像的存储路径<br>  docker info |grep Root</p>
  <img src="/2023/06/10/docker/clip_image071.jpg" class="" title="img">
<p>  具体位置</p>
  <img src="/2023/06/10/docker/clip_image073.jpg" class="" title="img">
  <img src="/2023/06/10/docker/clip_image075.jpg" class="" title="img"></li>
</ul>
</li>
<li>查看镜像<ul>
<li>查看所有镜像<br>  docker images  <img src="/2023/06/10/docker/clip_image077.jpg" class="" title="img"></li>
<li>查看具体镜像<br>  docker images nginx  <img src="/2023/06/10/docker/clip_image079.jpg" class="" title="img"></li>
<li>指定tag查看<br>  docker images centos:7.8.2003  <img src="/2023/06/10/docker/clip_image081.jpg" class="" title="img"></li>
<li>只列出镜像id<br>  docker images -q  <img src="/2023/06/10/docker/clip_image082.png" class="" title="img"></li>
<li>格式化显示镜像<br>  docker images –format   <img src="/2023/06/10/docker/clip_image084.jpg" class="" title="img"></li>
<li>搜索镜像<br>  docker search centos  <img src="/2023/06/10/docker/clip_image086.jpg" class="" title="img"></li>
</ul>
</li>
<li>删除镜像<ul>
<li>这里下载 体积较小的hello-world镜像进行验证<br>  docker pull hello-world  <img src="/2023/06/10/docker/clip_image088.jpg" class="" title="img"></li>
<li>删除容器，指定id的前三位即可<br>  docker rmi feb  <img src="/2023/06/10/docker/clip_image090.jpg" class="" title="img">
  <img src="/2023/06/10/docker/clip_image092.jpg" class="" title="img"></li>
</ul>
</li>
<li>镜像管理<ul>
<li>批量删除镜像（慎用）<br>  docker rmi ‘docker images -aq’</li>
<li>批量删除容器<br>  docker rm ‘docker ps -aq’</li>
<li>导出镜像<br>  docker image save centos:7.8.2003 &gt; &#x2F;export&#x2F;software&#x2F;centos1.8.2003.tgz  <img src="/2023/06/10/docker/clip_image094.jpg" class="" title="img"></li>
<li>导入镜像<br>  docker image load -i &#x2F;export&#x2F;software&#x2F;centos1.8.2003.tgz  <img src="/2023/06/10/docker/clip_image096.jpg" class="" title="img"></li>
</ul>
</li>
<li>去DockerHub搜索并拉取一个Redis镜像<ul>
<li>去DockerHub搜索Redis镜像<br>  docker search redis  <img src="/2023/06/10/docker/clip_image098.jpg" class="" title="img"></li>
<li>查看Redis镜像的名称和版本<br>  docker images | grep redis  <img src="/2023/06/10/docker/clip_image100.jpg" class="" title="img"></li>
<li>利用docker pull命令拉取镜像<br>  docker pull redis:latest  <img src="/2023/06/10/docker/clip_image102.jpg" class="" title="img"></li>
<li>利用docker save命令将 redis:latest打包为一个redis.tar包<br>  docker save -o redis.tar redis:latest  <img src="/2023/06/10/docker/clip_image104.jpg" class="" title="img"></li>
<li>利用docker rmi 删除本地的redis:latest<br>  docker rmi redis:latest  <img src="/2023/06/10/docker/clip_image106.jpg" class="" title="img">
  <img src="/2023/06/10/docker/clip_image108.jpg" class="" title="img"></li>
<li>利用docker load 重新加载 redis.tar文件<br>  docker load -i redis.tar  <img src="/2023/06/10/docker/clip_image110.jpg" class="" title="img">
  <img src="/2023/06/10/docker/clip_image112.jpg" class="" title="img"></li>
</ul>
</li>
</ul>
<h2 id="六、容器"><a href="#六、容器" class="headerlink" title="六、容器"></a>六、容器</h2><ul>
<li>运行容器，且进入容器内，且在容器内执行某个命令<br>docker run -it centos:7.8.2003 sh<img src="/2023/06/10/docker/clip_image114.jpg" class="" title="img"></li>
<li>开启一个容器，让它帮你运行某个程序<br>docker run centos:7.8.2003 ping baidu.com<img src="/2023/06/10/docker/clip_image116.jpg" class="" title="img"></li>
<li>运行一个活着的容器，docker -ps可以看到的容器<br>docker run -d centos:7.8.2003 ping baidu.com<img src="/2023/06/10/docker/clip_image118.jpg" class="" title="img"></li>
<li>丰富docker运行的参数<img src="/2023/06/10/docker/clip_image120.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image122.jpg" class="" title="img"></li>
<li>查看容器日志的玩法，刷新日志<br>docker logs -f bbdd89dc5287<img src="/2023/06/10/docker/clip_image124.jpg" class="" title="img"></li>
<li>进入正在运行的容器空间内<br>docker exec -it bbdd89dc5287 bash<img src="/2023/06/10/docker/clip_image126.jpg" class="" title="img"></li>
<li>查看容器的详细信息，用于高级的调试<br>docker container inspect bbdd89dc5287<img src="/2023/06/10/docker/clip_image128.jpg" class="" title="img"></li>
<li>容器的端口映射<br>docker run -d –name bigdata_nginx -p 85:80 nginx<img src="/2023/06/10/docker/clip_image130.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image132.jpg" class="" title="img">
<ul>
<li>查看容器的端口转发情况<br>  docker port 0ee380974ac8  <img src="/2023/06/10/docker/clip_image134.jpg" class="" title="img"></li>
<li>随机端口映射<br>  docker run -d –name bigdata_nginx_random -P nginx  <img src="/2023/06/10/docker/clip_image136.jpg" class="" title="img"></li>
</ul>
</li>
<li>容器的提交<br>docker run -it centos:7.8.2003 bash<img src="/2023/06/10/docker/clip_image138.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image140.jpg" class="" title="img"></li>
<li>停止容器运行<br>docker stop 0ee380974ac8<img src="/2023/06/10/docker/clip_image142.jpg" class="" title="img"></li>
</ul>
<h2 id="七、创建并运行一个容器（案例）"><a href="#七、创建并运行一个容器（案例）" class="headerlink" title="七、创建并运行一个容器（案例）"></a>七、创建并运行一个容器（案例）</h2><ul>
<li>创建并运行进入容器<br>docker run -it –name my_container5 nginx &#x2F;bin&#x2F;bash<img src="/2023/06/10/docker/clip_image144.jpg" class="" title="img">
<img src="/2023/06/10/docker/clip_image146.jpg" class="" title="img"></li>
<li>进入目录<br>cd &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html&#x2F;<img src="/2023/06/10/docker/clip_image148.jpg" class="" title="img"></li>
<li>修改文件<br>sed -i -e ‘s#Welcome to nginx#fsaf#g’ -e ‘s#<head>#<head><meta charset="utf-8">#g’ index.html<img src="/2023/06/10/docker/clip_image150.jpg" class="" title="img"></li>
<li>退出<br>exit<img src="/2023/06/10/docker/clip_image152.jpg" class="" title="img"></li>
</ul>
<h2 id="八、数据卷"><a href="#八、数据卷" class="headerlink" title="八、数据卷"></a>八、数据卷</h2><ul>
<li>创建和查看数据卷<ul>
<li>创建数据卷<br>  docker volume create html  <img src="/2023/06/10/docker/clip_image154.jpg" class="" title="img"></li>
<li>查看所有数据<br>  docker volume ls  <img src="/2023/06/10/docker/clip_image156.jpg" class="" title="img"></li>
<li>查看数据卷详细信息卷<br>  docker volume inspect html  <img src="/2023/06/10/docker/clip_image158.jpg" class="" title="img">
  可看到，我们创建的html这个数据卷关联的宿主机目录是&#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;html&#x2F;_data</li>
</ul>
</li>
<li>挂载数据卷<ul>
<li>挂载一个数据卷到某个容器内目录<br>  docker run -it –name bigdata -v &#x2F;export&#x2F;data&#x2F;docker-data&#x2F;centos&#x2F;:&#x2F;root&#x2F;data_container centos:7.8.2003<br>  cd &#x2F;root&#x2F;data_container<br>  touch 1.txt  <img src="/2023/06/10/docker/clip_image160.jpg" class="" title="img">
  到目录下查看  <img src="/2023/06/10/docker/clip_image162.jpg" class="" title="img"></li>
<li>配置数据卷容器<br>  创建启动c3数据卷容器：docker run -it –name&#x3D;c3 -v &#x2F;volume centos:7  <img src="/2023/06/10/docker/clip_image164.jpg" class="" title="img">
  创建启动c1 c2 容器<br>  docker run -it –name&#x3D;c1 –volumes-from c3 centos:7  <img src="/2023/06/10/docker/clip_image166.jpg" class="" title="img">
  docker run -it –name&#x3D;c2 –volumes-from c3 centos:7  <img src="/2023/06/10/docker/clip_image168.jpg" class="" title="img"></li>
</ul>
</li>
<li>给nginx挂载数据卷<ul>
<li>创建容器并挂载数据卷到容器内的HTML目录<br>  docker run –name ln -v &#x2F;export&#x2F;data&#x2F;docker-data&#x2F;nginx-html&#x2F;:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html -p 80:80 -d nginx  <img src="/2023/06/10/docker/clip_image170.jpg" class="" title="img"></li>
<li>进入html数据卷所在位置，并修改HTML内容  <img src="/2023/06/10/docker/clip_image172.jpg" class="" title="img">
9.docker应用部署</li>
</ul>
</li>
<li>部署mysql<ul>
<li>搜索mysql镜像<br>  docker search mysql  <img src="/2023/06/10/docker/clip_image174.jpg" class="" title="img"></li>
<li>拉取mysql镜像<br>  docker pull mysql:5.6<br>  <img src="/docker/clip_image174.jpg" alt="img"><img src="/docker/clip_image174.jpg" alt="img"><img src="/docker/clip_image175.jpg" alt="img"><img src="/docker/clip_image177.jpg" alt="img"><img src="/docker/clip_image178.jpg" alt="img"><img src="/docker/clip_image178.jpg" alt="img"><img src="/docker/clip_image179.jpg" alt="img"></li>
<li>创建容器，设置端口映射、目录映射<br>  在&#x2F;export&#x2F;data&#x2F;docker-data&#x2F;目录下创建mysql目录用于存储mysql数据信息<br>  mkdir -p &#x2F;export&#x2F;data&#x2F;docker-data&#x2F;mysql<br>  cd &#x2F;export&#x2F;data&#x2F;docker-data&#x2F;mysql<br>  <img src="/docker/clip_image181.jpg" alt="img"><img src="/docker/clip_image182.jpg" alt="img"><img src="/docker/clip_image182.jpg" alt="img"><img src="/docker/clip_image181.jpg" alt="img"><img src="/docker/clip_image174.jpg" alt="img"><img src="/docker/clip_image177.jpg" alt="img"><br>  docker run -id -p 3306:3306 –name&#x3D;bigdata_mysql -v $PWD&#x2F;conf:&#x2F;etc&#x2F;mysql&#x2F;conf.d -v $PWD&#x2F;logs:&#x2F;logs -v $PWD&#x2F;data:&#x2F;var&#x2F;lib&#x2F;mysql -e MYSQL_ROOT_PASSWORD&#x3D;hadoop mysql:5.6<br>  <img src="/docker/clip_image174.jpg" alt="img"><img src="/docker/clip_image174.jpg" alt="img">xvxvxv<img src="/docker/clip_image184.jpg" alt="img"></li>
<li>进入容器，操作mysql<br>  docker exec –it bigdata_mysql &#x2F;bin&#x2F;bash<br>  xv<img src="/2023/06/10/docker/clip_image186.jpg" class="" title="img"></li>
</ul>
</li>
<li>部署Tomcat<ul>
<li>搜索tomcat镜像<br>  docker search tomcat  <img src="/2023/06/10/docker/clip_image188.jpg" class="" title="img"></li>
<li>拉取tomcat镜像<br>  docker pull tomcat  <img src="/2023/06/10/docker/clip_image190.jpg" class="" title="img"></li>
<li>创建容器，设置端口映射、目录映射<br>  创建目录tomcat，并进入目录下<br>  xvxvxv<img src="/2023/06/10/docker/clip_image192.jpg" class="" title="img"><br>  docker run -id –name&#x3D;c_tomcat -p 8080:8080 -v $PWD:&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;webapps tomcat  <img src="/2023/06/10/docker/clip_image194.jpg" class="" title="img"></li>
<li>使用外部机器访问tomcat<br>  （但是当前资源未公开，不过配置成了）  <img src="/2023/06/10/docker/clip_image196.jpg" class="" title="img"></li>
</ul>
</li>
<li>部署Redis<ul>
<li>搜索redis镜像<br>  docker search redis  <img src="/2023/06/10/docker/clip_image198.jpg" class="" title="img"></li>
<li>拉取redis镜像<br>  docker pull redis:5.0  <img src="/2023/06/10/docker/clip_image200.jpg" class="" title="img"></li>
<li>创建容器，设置端口映射<br>  docker run -id –name&#x3D;c_redis -p 6379:6379 redis:5.0  <img src="/2023/06/10/docker/clip_image202.jpg" class="" title="img"></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/10/docker/" data-id="cliq51d6n0002xswj4c1u2csv" data-title="Docker" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-git" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/10/git/" class="article-date">
  <time class="dt-published" datetime="2023-06-10T13:41:04.868Z" itemprop="datePublished">2023-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/10/git/">Git</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="二、Git"><a href="#二、Git" class="headerlink" title="二、Git"></a>二、Git</h2>
        
          <p class="article-more-link">
            <a href="/2023/06/10/git/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/10/git/" data-id="cliq1od770000xswj3f7t28cz" data-title="Git" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hive3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/10/hive3/" class="article-date">
  <time class="dt-published" datetime="2023-06-10T10:50:13.050Z" itemprop="datePublished">2023-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/10/hive3/">Hive</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="hive3安装及应用"><a href="#hive3安装及应用" class="headerlink" title="hive3安装及应用"></a>hive3安装及应用</h2>
        
          <p class="article-more-link">
            <a href="/2023/06/10/hive3/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/10/hive3/" data-id="clinz22690003okwj287mdyld" data-title="Hive" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/09/hello-world/" class="article-date">
  <time class="dt-published" datetime="2023-06-09T00:08:21.450Z" itemprop="datePublished">2023-06-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/09/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/09/hello-world/" data-id="clintau590000okwj6afhgmzy" data-title="Hello World" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/06/11/spark-HA/">Spark-HA</a>
          </li>
        
          <li>
            <a href="/2023/06/11/spark-StandAlone/">Spark-StandAlone</a>
          </li>
        
          <li>
            <a href="/2023/06/11/spark-Local/">Spark-Local</a>
          </li>
        
          <li>
            <a href="/2023/06/10/docker/">Docker</a>
          </li>
        
          <li>
            <a href="/2023/06/10/git/">Git</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>